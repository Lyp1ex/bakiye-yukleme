services:
  - type: web
    name: telegram-coin-shop-bot
    runtime: python
    plan: free
    buildCommand: pip install -r requirements.txt
    startCommand: python -m bot.main
    healthCheckPath: /health
    autoDeploy: true
    envVars:
      - key: BOT_TOKEN
        sync: false
      - key: ADMIN_IDS
        sync: false
      - key: ADMIN_PANEL_TOKEN
        sync: false
      - key: IBAN_TEXT
        sync: false
      - key: SUPPORT_USERNAME
        value: donsalvatoree
      - key: APP_LAST_UPDATED
        value: "19.02.2026"
      - key: TRON_RPC_URL
        value: https://api.trongrid.io
      - key: TRON_WALLET_ADDRESS
        sync: false
      - key: TRON_PRIVATE_KEY
        sync: false
      - key: CRYPTO_AUTO_APPROVE
        value: "false"
      - key: RECEIPT_AI_PROVIDER
        value: "auto"
      - key: OPENAI_MODEL
        value: "gpt-4o-mini"
      - key: OPENAI_API_KEY
        sync: false
      - key: GEMINI_API_KEY
        sync: false
      - key: GEMINI_MODEL
        value: "gemini-2.0-flash"
      - key: RECEIPT_AI_ENABLED
        value: "false"
      - key: RECEIPT_AI_STRICT
        value: "false"
      - key: RECEIPT_AMOUNT_TOLERANCE_TRY
        value: "5.00"
      - key: RECEIPT_DATE_MAX_DIFF_DAYS
        value: "3"
      - key: RECEIPT_HASH_CHECK_ENABLED
        value: "true"
      - key: RECEIPT_RISK_REJECT_THRESHOLD
        value: "70"
      - key: RISK_FLAG_THRESHOLD
        value: "40"
      - key: TRON_CHECK_INTERVAL_SEC
        value: "45"
      - key: MIN_BALANCE_AMOUNT
        value: "15000"
      - key: MAX_BALANCE_AMOUNT
        value: "250000"
      - key: BALANCE_PAYMENT_RATE
        value: "0.20"
      - key: BANK_QUEUE_ETA_MIN_PER_REQUEST
        value: "7"
      - key: CRYPTO_QUEUE_ETA_MIN_PER_REQUEST
        value: "5"
      - key: WITHDRAW_QUEUE_ETA_MIN_PER_REQUEST
        value: "12"
      - key: REMINDER_ENABLED
        value: "true"
      - key: REMINDER_INTERVAL_SEC
        value: "1800"
      - key: REMINDER_MIN_AGE_MINUTES
        value: "20"
      - key: REMINDER_COOLDOWN_MINUTES
        value: "60"
      - key: AUTO_BACKUP_ENABLED
        value: "true"
      - key: BACKUP_HOUR_UTC
        value: "3"
      - key: BACKUP_MINUTE_UTC
        value: "15"
      - key: BACKUP_RETENTION_DAYS
        value: "14"
      - key: BACKUP_DIR
        value: "./backups"
      - key: LOG_LEVEL
        value: INFO
